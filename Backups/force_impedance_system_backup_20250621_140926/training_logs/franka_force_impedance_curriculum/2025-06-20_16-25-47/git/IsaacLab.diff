--- git status ---
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   docs/make.bat
	modified:   environment.yml
	modified:   source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/__init__.py
	modified:   source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/cabinet_env_cfg.py
	modified:   source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/agents/rsl_rl_ppo_cfg.py
	modified:   source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/mdp/__init__.py

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	.devcontainer/
	data/
	env_isaaclab/
	source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/force_variable_impedance_env_cfg.py
	source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/minimal_force_variable_impedance_env_cfg.py
	source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/mdp/force_impedance_mdp.py
	test_imports_only.py
	test_manager_workflow.py
	test_optimal_vs_complex.py
	test_simple_force_impedance.py

no changes added to commit (use "git add" and/or "git commit -a") 


--- git diff ---
diff --git a/docs/make.bat b/docs/make.bat
old mode 100644
new mode 100755
diff --git a/environment.yml b/environment.yml
index a9ec324ba1..86ffa6bf44 100644
--- a/environment.yml
+++ b/environment.yml
@@ -1,6 +1,11 @@
+name: env_isaaclab
 channels:
+  - nvidia
   - conda-forge
-  - defaults
 dependencies:
-  - python=3.10
-  - importlib_metadata
+  - python=3.10                                             :contentReference[oaicite:8]{index=8}
+  - usd-core=23.11.0         # ‚Üê replace ##.##.0 with the version you saw above
+  - lxml=4.9.2                # required by nvidia-srl-usd-to-urdf  
+  - starlette=0.36.3          # required by fastapi 0.110.0  
+  - tqdm=4.63.0               # required by nvidia-srl-usd 0.14.0  
+  - xxhash                    # (optional) faster cache checks  
\ No newline at end of file
diff --git a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/__init__.py b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/__init__.py
index db34a1826b..80c42da3ce 100644
--- a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/__init__.py
+++ b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/__init__.py
@@ -4,3 +4,56 @@
 # SPDX-License-Identifier: BSD-3-Clause
 
 """Manipulation environments to open drawers in a cabinet."""
+
+import gymnasium as gym
+
+from . import mdp
+from .cabinet_env_cfg import CabinetEnvCfg, CabinetEnvCfg_PLAY
+from .config.franka import agents
+
+##
+# Register Gym environments.
+##
+
+gym.register(
+    id="Isaac-Open-Drawer-Franka-v0",
+    entry_point="isaaclab.envs:ManagerBasedRLEnv",
+    disable_env_checker=True,
+    kwargs={
+        "env_cfg_entry_point": f"{__name__}.cabinet_env_cfg:CabinetEnvCfg",
+        "rsl_rl_cfg_entry_point": f"{agents.__name__}.rsl_rl_ppo_cfg:CabinetPPORunnerCfg",
+    },
+)
+
+gym.register(
+    id="Isaac-Open-Drawer-Franka-Play-v0",
+    entry_point="isaaclab.envs:ManagerBasedRLEnv",
+    disable_env_checker=True,
+    kwargs={
+        "env_cfg_entry_point": f"{__name__}.cabinet_env_cfg:CabinetEnvCfg_PLAY",
+    },
+)
+
+# Register force-based variable impedance environment
+from .config.franka.force_variable_impedance_env_cfg import (
+    ForceVariableImpedanceCabinetEnvCfg,
+    ForceVariableImpedanceCabinetEnvCfg_PLAY,
+)
+
+gym.register(
+    id="Isaac-Open-Drawer-Franka-Force-Variable-Impedance-v0",
+    entry_point="isaaclab.envs:ManagerBasedRLEnv",
+    disable_env_checker=True,
+    kwargs={
+        "env_cfg_entry_point": f"{__name__}.config.franka.force_variable_impedance_env_cfg:ForceVariableImpedanceCabinetEnvCfg",
+        "rsl_rl_cfg_entry_point": f"{agents.__name__}.rsl_rl_ppo_cfg:ForceVariableImpedanceCabinetPPORunnerCfg",
+    },
+)
+
+gym.register(
+    id="Isaac-Open-Drawer-Franka-Force-Variable-Impedance-Play-v0",
+    entry_point="isaaclab.envs:ManagerBasedRLEnv",
+    kwargs={
+        "env_cfg_entry_point": f"{__name__}.config.franka.force_variable_impedance_env_cfg:ForceVariableImpedanceCabinetEnvCfg_PLAY",
+    },
+)
diff --git a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/cabinet_env_cfg.py b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/cabinet_env_cfg.py
index cfdaa4066f..b71003801d 100644
--- a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/cabinet_env_cfg.py
+++ b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/cabinet_env_cfg.py
@@ -278,3 +278,18 @@ class CabinetEnvCfg(ManagerBasedRLEnvCfg):
         self.sim.physx.bounce_threshold_velocity = 0.2
         self.sim.physx.bounce_threshold_velocity = 0.01
         self.sim.physx.friction_correlation_distance = 0.00625
+
+
+@configclass
+class CabinetEnvCfg_PLAY(CabinetEnvCfg):
+    """Configuration for the cabinet environment in play mode."""
+    
+    def __post_init__(self):
+        """Post initialization."""
+        # parent post init
+        super().__post_init__()
+        # reduce the number of environments for play mode
+        self.scene.num_envs = 8
+        # viewer settings
+        self.viewer.eye = (-2.0, 2.0, 2.0)
+        self.viewer.lookat = (0.8, 0.0, 0.5)
diff --git a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/agents/rsl_rl_ppo_cfg.py b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/agents/rsl_rl_ppo_cfg.py
index 75c3729d53..b2fc5db07d 100644
--- a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/agents/rsl_rl_ppo_cfg.py
+++ b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/config/franka/agents/rsl_rl_ppo_cfg.py
@@ -14,6 +14,35 @@ class CabinetPPORunnerCfg(RslRlOnPolicyRunnerCfg):
     max_iterations = 400
     save_interval = 50
     experiment_name = "franka_open_drawer"
+
+
+@configclass 
+class ForceVariableImpedanceCabinetPPORunnerCfg(RslRlOnPolicyRunnerCfg):
+    num_steps_per_env = 96
+    max_iterations = 1000  # Extended for full curriculum learning (4 phases)
+    save_interval = 50
+    experiment_name = "franka_force_impedance_curriculum"  # New experiment name for fresh start
+    empirical_normalization = False
+    policy = RslRlPpoActorCriticCfg(
+        init_noise_std=1.0,  # Start with higher exploration for phase 1 grasping
+        actor_hidden_dims=[256, 128, 64],
+        critic_hidden_dims=[256, 128, 64],
+        activation="elu",
+    )
+    algorithm = RslRlPpoAlgorithmCfg(
+        value_loss_coef=1.0,
+        use_clipped_value_loss=True,
+        clip_param=0.2,
+        entropy_coef=1e-3,  # Moderate exploration
+        num_learning_epochs=5,
+        num_mini_batches=4,
+        learning_rate=5.0e-4,  # Standard learning rate for initial phases
+        schedule="adaptive",
+        gamma=0.99,
+        lam=0.95,
+        desired_kl=0.02,
+        max_grad_norm=1.0,
+    )
     empirical_normalization = False
     policy = RslRlPpoActorCriticCfg(
         init_noise_std=1.0,
diff --git a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/mdp/__init__.py b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/mdp/__init__.py
index 43ec606ed6..d0f731e330 100644
--- a/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/mdp/__init__.py
+++ b/source/isaaclab_tasks/isaaclab_tasks/manager_based/manipulation/cabinet/mdp/__init__.py
@@ -9,3 +9,4 @@ from isaaclab.envs.mdp import *  # noqa: F401, F403
 
 from .observations import *  # noqa: F401, F403
 from .rewards import *  # noqa: F401, F403
+from .force_impedance_mdp import *  # noqa: F401, F403